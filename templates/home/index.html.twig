{% extends 'base.html.twig' %}

{% block title %}Управління базою резюме{% endblock %}

{% block body %}
    <h2 class="text-gray-600 text-xl font-bold">Надіслані резюме</h2>
    <div class="mt-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {% if applications|length > 0 %}
            {% for app in applications %}
                <div class="bg-white rounded-lg shadow hover:shadow-lg transition-shadow p-4 flex flex-col justify-between border-1 border-gray-200">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800">
                            <a href="{{ path('app_resume', {id: app.resume.id}) }}" class="hover:text-cyan-600">
                                {{ app.resume.positionTitle }}
                            </a>
                        </h3>
                        <span class="inline-block mt-1 text-sm font-medium py-1 px-3 rounded-full bg-cyan-600 text-white">
                        {{ app.company.name }}
                    </span>
                    </div>

                    <div class="mt-3 text-sm text-gray-600 space-y-1">
                        <div>Реакція: {{ include('_reaction.html.twig', { reaction: app.reaction }) }}</div>
                        <div>Дата реакції: {{ app.getReactionAt()? app.getReactionAt()|date("d.m.Y, H:i", "Europe/Kyiv") : "Відсутня" }}</div>
                        <div>Дата відправки: {{ app.getSentAt()|date("d.m.Y, H:i", "Europe/Kyiv") }}</div>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <div class="col-span-full text-center text-gray-500 italic py-6">
                Немає резюме для відображення
            </div>
        {% endif %}
    </div>
    {{ include('_pagination.html.twig', { router_path: "app_home" }) }}
{% endblock %}
